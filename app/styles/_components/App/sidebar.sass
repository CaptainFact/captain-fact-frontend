$border-color: lightgrey

#sidebar
  position: fixed
  height: 100%
  top: 0
  left: 0
  width: $sidebar_width
  background: $white
  overflow-y: auto
  overflow-x: hidden
  z-index: 999
  box-shadow: 5px 0px 8px 0px rgba(0, 0, 0, 0.1)
  +tablet
    transition: width $sidebar_collapse_transition_duration
  +mobile
    width: 100%
  @media screen and (max-height: 600px)
    .user-links
      display: none
  .logo-banner
    line-height: 0
    padding: 1rem
    width: $sidebar_width
    text-align: left
    .site-logo img
        width: 47px
    &> *
      display: inline-block
      vertical-align: middle

    .menu-collapse-button
      display: none
      height: 47px
      width: 47px
      margin-right: 6px

    @media screen and (max-width: $sidebar_full_collapse_under)
      width: 100%

  .connect-register-buttons .button
    @extend .is-fullwidth

  .user-quicklinks
    margin-bottom: 0.5em
    figure.image, .title
      display: inline-block
      vertical-align: middle
      margin-right: 7px
    .current-user-link
      span
        margin: 0 5px 1px 0
      &> *
        vertical-align: middle
    a.is-active .current-user-link .title
      color: $link-invert
    .button
      color: #494949
      background: transparent
    .level-right
      margin-top: 0

  .menu-content
    padding: 9px

  .connect-register-buttons
    position: absolute
    bottom: 0
    .button
      background-color: none
      border: none
      margin-left: 6px
      margin-bottom: 15px
    .icon > i
      font-size: 24px
    span:not(.icon)
      margin-bottom: 3px
      font-size: 16px
      margin-left: 12px

  .language-selector
    padding-left: 10px
    .icon
      margin-right: 5px

  .link-with-icon
    &> span
      margin-left: 20px
    &> i
      margin-left: 2px
      margin-bottom: 5px
      margin-top: 5px
      width: 20px
      font-size: 30px
      +desktop
        transition: font-size $sidebar_collapse_transition_duration

#sidebar:not(.expended)
  width: $sidebar_collapsed_width
  text-align: center

  @media screen and (max-width: $sidebar_full_collapse_under)
    position: fixed
    width: 100%
    z-index: 9999
    height: inherit
    background: transparentize($white, 0.1)
    border-bottom: 1px solid $border-color
    .logo-banner
      height: $sidebar_full_collapse_banner_height
    .menu-content
      display: none

  .link-with-icon i
    font-size: 30px
    margin: 0

  .user-quicklinks
    a
      padding: 4px
    figure.image
      height: 32px
      width: 32px
      margin: 0 auto
    .button, .tag
      display: none
    .link-with-icon
      padding: 5px

  +from($sidebar_full_collapse_under + 1)
    .logo-banner
      .title, .logo
        display: none

  .username
    display: none

  .menu-content
    .user-quicklinks
      margin-bottom: 5px

    .menu-label, .title
      display: none

    .menu-list
      padding-bottom: 5px
      margin-bottom: 5px
      &> li > a.link-with-icon
        padding: 7px 0
        &> i
          width: 100%
        &> span
          display: none

  .connect-register-buttons
    margin-bottom: 5px
    left: 50%
    transform: translateX(-50%)
    .button
      background-color: none
      margin-left: 0px
      margin-bottom: 10px
    span:not(.icon)
      display: none

  .hide-when-collapsed
    display: none

  .visible-when-collapsed
    display: block
